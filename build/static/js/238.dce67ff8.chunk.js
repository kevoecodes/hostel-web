"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[238],{75697:function(e,n,t){t.d(n,{An:function(){return d},CI:function(){return u},Rn:function(){return h},Tj:function(){return l},Vo:function(){return x},gg:function(){return f},oB:function(){return p},un:function(){return g}});var r=t(61805),o=t(66212),i=t(22098),s=t(54427),a=t(77841),c=t(46417),u=function(e){return e?(0,c.jsx)(o.Z,{color:"success",label:"Taken"}):(0,c.jsx)(o.Z,{color:"primary",label:"Open"})},l=function(e){return e===r.yd.PENDING?(0,c.jsx)(o.Z,{color:"secondary",label:"Pending"}):e===r.yd.ACCEPTED?(0,c.jsx)(o.Z,{color:"success",label:"Accepted"}):e===r.yd.REJECTED?(0,c.jsx)(o.Z,{color:"error",label:"Rejected"}):void 0},f=function(e){return new Date(e).toLocaleString()},d=function(e){return 1===e?"Admin":2===e?"User":void 0},h=function(e){(0,i.nD)().then((function(n){console.log(n),e(n)})).catch((function(e){console.log(e)}))},p=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"TZS"})},x=function(e){e.response?401===e.response.status?(a.Z.error("Unauthorized request, please login again"),null!==s.VK&&(0,s.VK)("/login",{replace:!0}),localStorage.clear()):400===e.response.status||500===e.response.status||e.response&&429===e.response.status||console.log("Error occurred, status: "+e.response.status):a.Z.error("No network available, Please connect to a Network")};function g(e){var n=e.slice(0,3),t=e.slice(3);return 9===t.length?{countryCode:n,phoneNumber:t}:{countryCode:"255",phoneNumber:"1".repeat(9)}}},77841:function(e,n,t){var r=t(15671),o=t(43144),i=t(54427),s=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"success",value:function(e){i.sp&&i.sp.enqueueSnackbar(e,{variant:"success"})}},{key:"error",value:function(e){i.sp&&i.sp.enqueueSnackbar(e,{variant:"error"})}},{key:"warning",value:function(e){i.sp&&i.sp.enqueueSnackbar(e,{variant:"warning"})}}]),e}();n.Z=new s},93238:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(70885),o=t(47313),i=t(9019),s=t(61113),a=t(24631),c=t(51405),u=t(42832),l=t(1413),f=t(19860),d=t(58446),h=t(46417),p=function(e){var n=e.categories,t=void 0===n?[]:n,i=e.data_series,s=void 0===i?[]:i,a=(0,f.Z)(),c=a.palette.text,u=c.primary,p=c.secondary,x=a.palette.divider,g=a.palette.warning.main,v=a.palette.primary.main,m=a.palette.success.dark,Z=(0,o.useState)(s),j=(0,r.Z)(Z,1)[0],b=(0,o.useState)(function(){return{chart:{type:"bar",height:430,toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"30%",borderRadius:4}},dataLabels:{enabled:!1},stroke:{show:!0,width:8,colors:["transparent"]},xaxis:{categories:arguments.length>0&&void 0!==arguments[0]?arguments[0]:["Jan","Feb","Mar","Apr","May","Jun"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"$ ".concat(e," thousands")}}},legend:{show:!0,fontFamily:"'Public Sans', sans-serif",offsetX:10,offsetY:10,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:"50%",offsexX:2,offsexY:2},itemMargin:{horizontal:15,vertical:50}},responsive:[{breakpoint:600,options:{yaxis:{show:!1}}}]}}(t)),y=(0,r.Z)(b,2),w=y[0],k=y[1];return(0,o.useEffect)((function(){k((function(e){return(0,l.Z)((0,l.Z)({},e),{},{colors:[g,v],xaxis:{labels:{style:{colors:[p,p,p,p,p,p]}}},yaxis:{labels:{style:{colors:[p]}}},grid:{borderColor:x},tooltip:{theme:"light"},legend:{position:"top",horizontalAlign:"right",labels:{colors:"grey.500"}}})}))}),[u,p,x,g,v,m]),(0,h.jsx)("div",{id:"chart",children:(0,h.jsx)(d.Z,{options:w,series:j,type:"bar",height:430})})},x=t(97402),g=t(57829),v=function(e){e.color;var n=e.title,t=e.count;e.percentage,e.isLoss,e.extra;return(0,h.jsxs)(x.Z,{contentSX:{p:2.25},children:[(0,h.jsxs)(u.Z,{spacing:.5,children:[(0,h.jsx)(s.Z,{variant:"h6",color:"textSecondary",children:n}),(0,h.jsx)(i.ZP,{container:!0,alignItems:"center",children:(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(s.Z,{variant:"h4",color:"inherit",children:t})})})]}),(0,h.jsx)(g.Z,{sx:{pt:2.25}})]})};v.defaultProps={color:"primary"};var m=v,Z=t(61805),j=t(75697),b=[{value:Z.J.TODAY,label:"Today"},{value:Z.J.THIS_WEEK,label:"This Week"},{value:Z.J.MONTHLY,label:"Monthly"}],y=function(e){var n=e.data,t=(0,o.useState)(Z.J.MONTHLY),l=(0,r.Z)(t,2),f=l[0],d=l[1],g=(0,o.useState)("week"),v=(0,r.Z)(g,2),y=(v[0],v[1],n.monthly);return(0,h.jsxs)(i.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,h.jsx)(i.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,h.jsxs)(i.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(s.Z,{variant:"h5",children:"Dashboard"})}),(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(a.Z,{id:"standard-select-currency",size:"small",select:!0,value:f,onChange:function(e){return d(e.target.value)},sx:{"& .MuiInputBase-input":{py:.5,fontSize:"0.875rem"}},children:b.map((function(e){return(0,h.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))})})]})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,h.jsx)(m,{title:"Total Bill Of Loadings",count:y.total_bls.toString(),percentage:59.3,extra:"35,000"})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,h.jsx)(m,{title:"Total Bill of Loading Charges",count:(0,j.oB)(y.total_bills),percentage:70.5,extra:"8,900"})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,h.jsx)(m,{title:"Total Vouchers",count:(0,j.oB)(y.total_vouchers),percentage:27.4,isLoss:!0,color:"warning",extra:"1,943"})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,h.jsx)(m,{title:"Current Float",count:(0,j.oB)(n.current_float),percentage:27.4,isLoss:!0,color:"warning",extra:"$20,395"})}),f!==Z.J.TODAY&&(0,h.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,h.jsx)(i.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(s.Z,{variant:"h5",children:"Expense Report"})})}),(0,h.jsxs)(x.Z,{sx:{mt:1.75},children:[(0,h.jsxs)(u.Z,{spacing:1.5,sx:{mb:-12},children:[(0,h.jsx)(s.Z,{variant:"h6",color:"secondary",children:"Total Expense"}),(0,h.jsx)(s.Z,{variant:"h4",children:(0,j.oB)(y.total_vouchers+y.total_bills)})]}),(0,h.jsx)(p,{categories:y.categories,data_series:y.series})]})]})]})},w=t(84488),k=function(e){var n=e.children,t=e.isLoading;(0,o.useEffect)((function(){}),[]);var r=(0,h.jsx)(x.Z,{title:(0,h.jsx)(w.Z,{sx:{width:{xs:120,md:180}}}),secondary:(0,h.jsx)(w.Z,{animation:"wave",variant:"rectangular",width:24,height:24}),children:(0,h.jsxs)(u.Z,{spacing:1,children:[(0,h.jsx)(w.Z,{}),(0,h.jsx)(w.Z,{sx:{height:64},animation:"wave",variant:"rectangular"}),(0,h.jsx)(w.Z,{}),(0,h.jsx)(w.Z,{})]})});return(0,h.jsxs)(h.Fragment,{children:[t&&(0,h.jsx)(i.ZP,{container:!0,spacing:3,children:(0,h.jsx)(i.ZP,{item:!0,xs:12,children:r})}),!t&&n]})},S=function(){var e=(0,o.useState)(!0),n=(0,r.Z)(e,2),t=n[0],i=(n[1],(0,o.useState)()),s=(0,r.Z)(i,2),a=s[0];s[1];return(0,o.useEffect)((function(){}),[]),(0,h.jsx)(k,{isLoading:t,children:(0,h.jsx)(y,{data:a})})}},22098:function(e,n,t){t.d(n,{LK:function(){return y},kA:function(){return v},bu:function(){return m},Um:function(){return x},Bf:function(){return b},Ar:function(){return j},vU:function(){return Z},nD:function(){return g},gi:function(){return p},rW:function(){return d},Qb:function(){return l},OP:function(){return h},yi:function(){return w},vy:function(){return f}});var r=t(56573),o="http://161.35.210.153:8500/",i=t(75697);function s(e,n){return new Promise((function(t,s){r.Z.post(o+e,n).then((function(e){e.headers,t(e.data)})).catch((function(e){(0,i.Vo)(e),s(e)}))}))}function a(e){return new Promise((function(n,t){r.Z.get(o+e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){n(e.data)})).catch((function(e){(0,i.Vo)(e),t(e)}))}))}function c(e,n){return new Promise((function(t,s){r.Z.post(o+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){t(e.data)})).catch((function(e){(0,i.Vo)(e),s(e)}))}))}function u(e,n){return new Promise((function(t,s){r.Z.put(o+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){t(e.data)})).catch((function(e){(0,i.Vo)(e),s(e)}))}))}function l(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==t&&(r.mfaCode=t),s("api/auth/login-user",{email:e,password:n},!1)}function f(e,n,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o={};return""!==r&&(o.mfaCode=r),c("api/auth/reset-password/"+t,{password:e,confirm_password:n},!1)}function d(){return a("api/v1/users-list/")}function h(e){return c("api/v1/register-user",e)}function p(e){return a("api/v1/user/"+e)}function x(e,n){return u("api/v1/user/"+e,n)}function g(){return a("api/v1/roles")}function v(e){return c("api/v1/roles",e)}function m(e,n){return u("api/v1/role/"+e,n)}function Z(e){return a("api/v1/role/"+e)}function j(){return a("api/v1/hostels-list/")}function b(){return a("api/v1/booked-hostels-list/")}function y(e){return u("api/v1/accept-hostel-book/"+e,{})}function w(e){return u("api/v1/reject-hostel-book/"+e,{})}},61805:function(e,n,t){t.d(n,{J:function(){return o},yd:function(){return r}});var r={PENDING:0,ACCEPTED:1,REJECTED:2},o={TODAY:"today",THIS_WEEK:"this_week",MONTHLY:"monthly"}}}]);