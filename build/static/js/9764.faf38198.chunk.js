"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[9764],{75697:function(n,t,e){e.d(t,{AB:function(){return l},Rn:function(){return h},Vo:function(){return x},ec:function(){return u},gg:function(){return f},oB:function(){return d}});var r=e(61805),i=e(66212),o=e(36594),a=e(84296),s=e(77841),c=e(46417),u=function(n){return n===r.R2.PENDING?(0,c.jsx)(i.Z,{color:"secondary",label:"Pending"}):n===r.R2.ONPROGRESS?(0,c.jsx)(i.Z,{color:"primary",label:"On Progress"}):n===r.R2.COMPLETE?(0,c.jsx)(i.Z,{color:"success",label:"Complete"}):void 0},l=function(n){return n===r.SU.PENDING?(0,c.jsx)(i.Z,{color:"secondary",label:"Pending"}):n===r.SU.VERIFIED?(0,c.jsx)(i.Z,{color:"warning",label:"Verified"}):n===r.SU.APPROVED?(0,c.jsx)(i.Z,{color:"success",label:"Approved"}):n===r.SU.PAID?(0,c.jsx)(i.Z,{color:"primary",label:"Paid"}):n===r.SU.REJECTED?(0,c.jsx)(i.Z,{color:"error",label:"Rejected"}):void 0},f=function(n){return new Date(n).toLocaleString()},h=function(n){(0,o.nD)().then((function(t){console.log(t),n(t)})).catch((function(n){console.log(n)}))},d=function(n){return n.toLocaleString("en-US",{style:"currency",currency:"TZS"})},x=function(n){n.response?401===n.response.status?(s.Z.error("Unauthorized request, please login again"),null!==a.VK&&(0,a.VK)("/login",{replace:!0}),localStorage.clear()):400===n.response.status||500===n.response.status||n.response&&429===n.response.status||console.log("Error occurred, status: "+n.response.status):s.Z.error("No network available, Please connect to a Network")}},77841:function(n,t,e){var r=e(15671),i=e(43144),o=e(84296),a=function(){function n(){(0,r.Z)(this,n)}return(0,i.Z)(n,[{key:"success",value:function(n){o.sp&&o.sp.enqueueSnackbar(n,{variant:"success"})}},{key:"error",value:function(n){o.sp&&o.sp.enqueueSnackbar(n,{variant:"error"})}},{key:"warning",value:function(n){o.sp&&o.sp.enqueueSnackbar(n,{variant:"warning"})}}]),n}();t.Z=new a},29814:function(n,t,e){e.d(t,{Ae:function(){return h},GQ:function(){return f},tv:function(){return l}});var r=e(47313),i=e(84488),o=e(42832),a=e(9019),s=e(40621),c=e(41394),u=e(46417),l=function(n){var t=n.children,e=n.isLoading;(0,r.useEffect)((function(){}),[]);var c=(0,u.jsx)(s.Z,{title:(0,u.jsx)(i.Z,{sx:{width:{xs:120,md:180}}}),secondary:(0,u.jsx)(i.Z,{animation:"wave",variant:"rectangular",width:24,height:24}),children:(0,u.jsxs)(o.Z,{spacing:1,children:[(0,u.jsx)(i.Z,{}),(0,u.jsx)(i.Z,{sx:{height:64},animation:"wave",variant:"rectangular"}),(0,u.jsx)(i.Z,{}),(0,u.jsx)(i.Z,{})]})});return(0,u.jsxs)(u.Fragment,{children:[e&&(0,u.jsx)(a.ZP,{container:!0,spacing:3,children:(0,u.jsx)(a.ZP,{item:!0,xs:12,children:c})}),!e&&t]})},f=function(n){var t=n.children,e=n.isLoading;return(0,u.jsxs)(u.Fragment,{children:[e&&(0,u.jsx)(a.ZP,{container:!0,spacing:3,p:3,mt:1,children:(0,u.jsx)(a.ZP,{item:!0,xs:12,children:(0,u.jsxs)(o.Z,{spacing:1,children:[(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"})]})})}),!e&&t]})},h=function(n){var t=n.children,e=n.isLoading;(0,r.useEffect)((function(){}),[]);var o=(0,u.jsx)(c.Z,{hoverable:!0,style:{width:140},cover:(0,u.jsx)(i.Z,{sx:{width:{xs:140,md:140},height:180}}),children:(0,u.jsx)(i.Z,{})});return(0,u.jsxs)(u.Fragment,{children:[e&&(0,u.jsxs)(a.ZP,{container:!0,mb:3,mt:1,alignItems:"center",justifyContent:"flex-start",children:[(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o})]}),!e&&t]})}},69764:function(n,t,e){e.r(t),e.d(t,{default:function(){return y}});var r=e(29439),i=e(36594),o=e(47313),a=e(9019),s=e(61113),c=e(24631),u=e(51405),l=e(42832),f=e(1413),h=e(19860),d=e(58446),x=e(46417),p=function(n){var t=n.categories,e=void 0===t?[]:t,i=n.data_series,a=void 0===i?[]:i,s=(0,h.Z)(),c=s.palette.text,u=c.primary,l=c.secondary,p=s.palette.divider,v=s.palette.warning.main,g=s.palette.primary.main,m=s.palette.success.dark,Z=(0,o.useState)(a),j=(0,r.Z)(Z,1)[0],b=(0,o.useState)(function(){return{chart:{type:"bar",height:430,toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"30%",borderRadius:4}},dataLabels:{enabled:!1},stroke:{show:!0,width:8,colors:["transparent"]},xaxis:{categories:arguments.length>0&&void 0!==arguments[0]?arguments[0]:["Jan","Feb","Mar","Apr","May","Jun"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(n){return"$ ".concat(n," thousands")}}},legend:{show:!0,fontFamily:"'Public Sans', sans-serif",offsetX:10,offsetY:10,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:"50%",offsexX:2,offsexY:2},itemMargin:{horizontal:15,vertical:50}},responsive:[{breakpoint:600,options:{yaxis:{show:!1}}}]}}(e)),P=(0,r.Z)(b,2),w=P[0],S=P[1];return(0,o.useEffect)((function(){S((function(n){return(0,f.Z)((0,f.Z)({},n),{},{colors:[v,g],xaxis:{labels:{style:{colors:[l,l,l,l,l,l]}}},yaxis:{labels:{style:{colors:[l]}}},grid:{borderColor:p},tooltip:{theme:"light"},legend:{position:"top",horizontalAlign:"right",labels:{colors:"grey.500"}}})}))}),[u,l,p,v,g,m]),(0,x.jsx)("div",{id:"chart",children:(0,x.jsx)(d.Z,{options:w,series:j,type:"bar",height:430})})},v=e(40621),g=e(57829),m=function(n){n.color;var t=n.title,e=n.count;n.percentage,n.isLoss,n.extra;return(0,x.jsxs)(v.Z,{contentSX:{p:2.25},children:[(0,x.jsxs)(l.Z,{spacing:.5,children:[(0,x.jsx)(s.Z,{variant:"h6",color:"textSecondary",children:t}),(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(s.Z,{variant:"h4",color:"inherit",children:e})})})]}),(0,x.jsx)(g.Z,{sx:{pt:2.25}})]})};m.defaultProps={color:"primary"};var Z=m,j=e(61805),b=e(75697),P=[{value:j.J.TODAY,label:"Today"},{value:j.J.THIS_WEEK,label:"This Week"},{value:j.J.MONTHLY,label:"Monthly"}],w=function(n){var t=n.data,e=(0,o.useState)(j.J.MONTHLY),i=(0,r.Z)(e,2),f=i[0],h=i[1],d=(0,o.useState)("week"),g=(0,r.Z)(d,2),m=(g[0],g[1],t.monthly);return(0,x.jsxs)(a.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,x.jsx)(a.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(s.Z,{variant:"h5",children:"Dashboard"})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(c.Z,{id:"standard-select-currency",size:"small",select:!0,value:f,onChange:function(n){return h(n.target.value)},sx:{"& .MuiInputBase-input":{py:.5,fontSize:"0.875rem"}},children:P.map((function(n){return(0,x.jsx)(u.Z,{value:n.value,children:n.label},n.value)}))})})]})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,x.jsx)(Z,{title:"Total Bill Of Loadings",count:m.total_bls.toString(),percentage:59.3,extra:"35,000"})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,x.jsx)(Z,{title:"Total Bill of Loading Charges",count:(0,b.oB)(m.total_bills),percentage:70.5,extra:"8,900"})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,x.jsx)(Z,{title:"Total Vouchers",count:(0,b.oB)(m.total_vouchers),percentage:27.4,isLoss:!0,color:"warning",extra:"1,943"})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,x.jsx)(Z,{title:"Current Float",count:"TZS 35,800.O",percentage:27.4,isLoss:!0,color:"warning",extra:"$20,395"})}),f!==j.J.TODAY&&(0,x.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(s.Z,{variant:"h5",children:"Expense Report"})})}),(0,x.jsxs)(v.Z,{sx:{mt:1.75},children:[(0,x.jsxs)(l.Z,{spacing:1.5,sx:{mb:-12},children:[(0,x.jsx)(s.Z,{variant:"h6",color:"secondary",children:"Total Expense"}),(0,x.jsx)(s.Z,{variant:"h4",children:(0,b.oB)(m.total_vouchers+m.total_bills)})]}),(0,x.jsx)(p,{categories:m.categories,data_series:m.series})]})]})]})},S=e(29814),y=function(){var n=(0,o.useState)(!0),t=(0,r.Z)(n,2),e=t[0],a=t[1],s=(0,o.useState)(),c=(0,r.Z)(s,2),u=c[0],l=c[1];return(0,o.useEffect)((function(){(0,i.tk)().then((function(n){console.log(n),l(n),a(!1)})).catch((function(n){console.log(n)}))}),[]),(0,x.jsx)(S.tv,{isLoading:e,children:(0,x.jsx)(w,{data:u})})}},36594:function(n,t,e){e.d(t,{AG:function(){return R},Bl:function(){return A},Bm:function(){return D},CT:function(){return S},GV:function(){return P},Gn:function(){return k},HL:function(){return T},JN:function(){return I},MI:function(){return C},OP:function(){return d},PB:function(){return j},Q4:function(){return _},Qb:function(){return l},SP:function(){return E},Um:function(){return p},W0:function(){return N},b6:function(){return O},bu:function(){return m},gi:function(){return x},kA:function(){return g},kl:function(){return w},l2:function(){return y},nD:function(){return v},r2:function(){return b},rW:function(){return h},tk:function(){return U},vU:function(){return Z},vy:function(){return f},xr:function(){return L}});var r=e(56573),i=e(41209),o=e(75697);function a(n,t){return new Promise((function(e,a){r.Z.post(i.D.apiURL+n,t).then((function(n){n.headers,e(n.data)})).catch((function(n){(0,o.Vo)(n),a(n)}))}))}function s(n){return new Promise((function(t,e){r.Z.get(i.D.apiURL+n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){t(n.data)})).catch((function(n){(0,o.Vo)(n),e(n)}))}))}function c(n,t){return new Promise((function(e,a){r.Z.post(i.D.apiURL+n,t,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){e(n.data)})).catch((function(n){(0,o.Vo)(n),a(n)}))}))}function u(n,t){return new Promise((function(e,a){r.Z.put(i.D.apiURL+n,t,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){e(n.data)})).catch((function(n){(0,o.Vo)(n),a(n)}))}))}function l(n,t){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==e&&(r.mfaCode=e),a("api/auth/login",{email:n,password:t},!1)}function f(n,t,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i={};return""!==r&&(i.mfaCode=r),c("api/auth/reset-password/"+e,{password:n,confirm_password:t},!1)}function h(){return s("api/v1/users-list/")}function d(n){return c("api/v1/register-user",n)}function x(n){return s("api/v1/user/"+n)}function p(n,t){return u("api/v1/user/"+n,t)}function v(){return s("api/v1/roles")}function g(n){return c("api/v1/roles",n)}function m(n,t){return u("api/v1/role/"+n,t)}function Z(n){return s("api/v1/role/"+n)}function j(n){return c("api/v1/bls",n)}function b(){return s("api/v1/bls-list/")}function P(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[t?"include_charges=".concat("true"):"",e?"include_timeline=".concat("true"):"",r?"include_containers=".concat("true"):""].filter(Boolean).join("&"),o="api/v1/bl/".concat(n).concat(i?"?".concat(i):"");return s(o)}function w(n){return s("api/v1/bl-attachments?bl_id="+n)}function S(){return s("api/v1/charges-list/")}function y(){return s("api/v1/bl-charges-list/")}function E(n){return c("api/v1/bl-charges",n)}function k(n){return s("api/v1/bl-charge/"+n)}function T(n,t){return u("api/v1/bl-charge/"+n,t)}function L(n){return s("api/v1/bl-charge-attachments?bl_charge_id="+n)}function R(n){return c("api/v1/vouchers",n)}function D(){return s("api/v1/vouchers-list/")}function I(n){return s("api/v1/voucher/"+n)}function O(n,t){return u("api/v1/voucher/"+n,t)}function A(n){return s("api/v1/voucher-attachments?voucher_id="+n)}function _(){return s("api/v1/float-requests-list/")}function C(n){return s("api/v1/float-request/"+n)}function N(n){return c("api/v1/float-requests",n)}function U(){return s("api/v1/dash-stats")}},41209:function(n,t,e){e.d(t,{D:function(){return r}});var r={apiURL:"https://api.starvisiontz.com/",socketURL:"wss://socket.starvisiontz.com/",mediaURL:"https://media.starvisiontz.com/v1/"}},61805:function(n,t,e){e.d(t,{J:function(){return a},R2:function(){return i},SU:function(){return r},sy:function(){return o}});var r={PENDING:0,VERIFIED:1,APPROVED:2,PAID:3,REJECTED:4},i={PENDING:0,ONPROGRESS:1,COMPLETE:2},o={DETAILS:"0",ATTACHMENTS:"1",BL_CHARGES:"2"},a={TODAY:"today",THIS_WEEK:"this_week",MONTHLY:"monthly"}}}]);