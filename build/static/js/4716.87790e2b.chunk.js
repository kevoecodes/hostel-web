"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[4716],{64716:function(e,n,s){s.r(n),s.d(n,{default:function(){return D}});var i=s(29439),t=s(9019),r=s(69099),c=s(40621),l=s(47313),o=s(36594),d=s(41434),a=s(99743),u=s(3797),h=s(70501),x=s(51629),j=s(66835),Z=s(23477),m=s(24076),f=s(67478),g=s(57861),p=s(47131),v=s(51405),b=s(97649),C=s(75697),E=s(32499),P=s(2661),S=s(10237),k=s(61805),w=s(98967),_=s(17885),A=s(58467),z=s(46417),R=function(e){var n=e.vouchers_list,s=(0,l.useState)(null),t=(0,i.Z)(s,2),r=t[0],c=t[1],o=(0,l.useState)(0),d=(0,i.Z)(o,2),R=d[0],V=d[1],D=(0,l.useState)(10),U=(0,i.Z)(D,2),y=U[0],B=U[1],O=(0,l.useState)(null),T=(0,i.Z)(O,2),F=T[0],I=T[1],N=(0,A.s0)(),G=Boolean(r),H=function(){c(null)};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(x.Z,{children:(0,z.jsxs)(j.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,z.jsx)(Z.Z,{children:(0,z.jsxs)(m.Z,{children:[(0,z.jsx)(f.Z,{children:"Created At"}),(0,z.jsx)(f.Z,{children:"Voucher Number"}),(0,z.jsx)(f.Z,{children:"Amount"}),(0,z.jsx)(f.Z,{children:"Status"}),(0,z.jsx)(f.Z,{children:"Actions"})]})}),(0,z.jsx)(g.Z,{children:n.slice(R*y,R*y+y).map((function(e,n){return(0,z.jsxs)(m.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,z.jsx)(f.Z,{children:(0,C.gg)(e.created_at)}),(0,z.jsx)(f.Z,{children:e.voucher_number}),(0,z.jsx)(f.Z,{children:(0,C.oB)(e.amount)}),(0,z.jsx)(f.Z,{children:(0,C.AB)(e.status)}),(0,z.jsx)(f.Z,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)(p.Z,{"aria-label":"more",id:"long-button","aria-controls":G?"demo-customized-menu":void 0,"aria-expanded":G?"true":void 0,disableElevation:!0,"aria-haspopup":"true",onClick:function(n){return function(e,n){I(n),c(e.currentTarget)}(n,e)},children:(0,z.jsx)(E.Z,{})}),(0,z.jsxs)(P.Z,{id:"demo-customized-menu",anchorEl:r,open:G,onClose:H,MenuListProps:{"aria-labelledby":"demo-customized-menu"},children:[(0,z.jsxs)(v.Z,{onClick:function(){var e;e=F.id,N("view/"+e)},children:[(0,z.jsx)(S.Z,{style:{fontSize:25,color:"green"}}),"View"]}),(0,z.jsx)(u.Z,{permission:a._.VOUCHER_UPDATE,withOtherDeps:function(){return F.status===k.SU.PENDING||F.status===k.SU.REJECTED},children:(0,z.jsxs)(v.Z,{onClick:function(){},children:[(0,z.jsx)(w.Z,{style:{fontSize:25,color:"green"}}),"Edit"]})}),(0,z.jsxs)(v.Z,{onClick:H,disableRipple:!0,children:[(0,z.jsx)(_.Z,{style:{fontSize:25,color:"red"}}),"Delete"]})]})]})})]},n)}))})]})}),(0,z.jsx)(b.Z,{rowsPerPageOptions:[10,15,20],component:"div",count:n.length,rowsPerPage:y,page:R,onPageChange:function(e,n){V(n)},onRowsPerPageChange:function(e){B(+e.target.value),V(0)}})]})})},V=s(29814),D=function(){var e=(0,l.useState)(!0),n=(0,i.Z)(e,2),s=n[0],h=n[1],x=(0,l.useState)([]),j=(0,i.Z)(x,2),Z=j[0],m=j[1],f=(0,A.s0)();return(0,l.useEffect)((function(){(0,o.Bm)().then((function(e){m(e.results),h(!1)})).catch((function(e){console.log(e)}))}),[]),(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(c.Z,{title:(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(t.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,z.jsx)(t.ZP,{item:!0,children:"All Vouchers"}),(0,z.jsx)(u.Z,{permission:a._.VOUCHER_CREATE,children:(0,z.jsx)(t.ZP,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:(0,z.jsx)(r.Z,{variant:"contained",endIcon:(0,z.jsx)(d.Z,{}),onClick:function(){f("add-voucher")},children:"Add Voucher"})})})]})}),children:(0,z.jsx)(V.GQ,{isLoading:s,children:(0,z.jsx)(R,{vouchers_list:Z})})})})}}}]);