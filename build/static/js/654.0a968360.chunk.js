"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[654],{75697:function(n,e,r){r.d(e,{An:function(){return f},CI:function(){return u},Rn:function(){return h},Tj:function(){return l},Vo:function(){return x},gg:function(){return d},oB:function(){return p},un:function(){return m}});var t=r(61805),o=r(66212),s=r(22098),i=r(54427),c=r(77841),a=r(46417),u=function(n){return n?(0,a.jsx)(o.Z,{color:"success",label:"Taken"}):(0,a.jsx)(o.Z,{color:"primary",label:"Open"})},l=function(n){return n===t.yd.PENDING?(0,a.jsx)(o.Z,{color:"secondary",label:"Pending"}):n===t.yd.ACCEPTED?(0,a.jsx)(o.Z,{color:"success",label:"Accepted"}):n===t.yd.REJECTED?(0,a.jsx)(o.Z,{color:"error",label:"Rejected"}):void 0},d=function(n){return new Date(n).toLocaleString()},f=function(n){return 1===n?"Admin":2===n?"User":void 0},h=function(n){(0,s.nD)().then((function(e){console.log(e),n(e)})).catch((function(n){console.log(n)}))},p=function(n){return n.toLocaleString("en-US",{style:"currency",currency:"TZS"})},x=function(n){n.response?401===n.response.status?(c.Z.error("Unauthorized request, please login again"),null!==i.VK&&(0,i.VK)("/login",{replace:!0}),localStorage.clear()):400===n.response.status||500===n.response.status||n.response&&429===n.response.status||console.log("Error occurred, status: "+n.response.status):c.Z.error("No network available, Please connect to a Network")};function m(n){var e=n.slice(0,3),r=n.slice(3);return 9===r.length?{countryCode:e,phoneNumber:r}:{countryCode:"255",phoneNumber:"1".repeat(9)}}},77841:function(n,e,r){var t=r(15671),o=r(43144),s=r(54427),i=function(){function n(){(0,t.Z)(this,n)}return(0,o.Z)(n,[{key:"success",value:function(n){s.sp&&s.sp.enqueueSnackbar(n,{variant:"success"})}},{key:"error",value:function(n){s.sp&&s.sp.enqueueSnackbar(n,{variant:"error"})}},{key:"warning",value:function(n){s.sp&&s.sp.enqueueSnackbar(n,{variant:"warning"})}}]),n}();e.Z=new i},91905:function(n,e,r){r.d(e,{Z:function(){return w}});var t=r(57829),o=r(9019),s=r(1413),i=r(45987),c=r(97402),a=r(46417),u=["children"],l=function(n){var e=n.children,r=(0,i.Z)(n,u);return(0,a.jsx)(c.Z,(0,s.Z)((0,s.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},r),{},{border:!1,boxShadow:!0,shadow:function(n){return n.customShadows.z1},children:(0,a.jsx)(t.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:e})}))},d=r(16406),f=r(24813),h=r(47825),p=r(42832),x=r(61113),m=r(90891),Z=function(){var n=(0,f.Z)((function(n){return n.breakpoints.down("sm")}));return(0,a.jsx)(h.Z,{maxWidth:"xl",children:(0,a.jsxs)(p.Z,{direction:n?"column":"row",justifyContent:n?"center":"space-between",spacing:2,textAlign:n?"center":"inherit",children:[(0,a.jsx)(x.Z,{variant:"subtitle2",color:"secondary",component:"span",children:"\xa9 Abdul (DIT)"}),(0,a.jsxs)(p.Z,{direction:n?"column":"row",spacing:n?1:3,textAlign:n?"center":"inherit",children:[(0,a.jsx)(x.Z,{variant:"subtitle2",color:"secondary",component:m.Z,href:"#",target:"_blank",underline:"hover",children:"Privacy Policy"}),(0,a.jsx)(x.Z,{variant:"subtitle2",color:"secondary",component:m.Z,href:"#",target:"_blank",underline:"hover",children:"Support"})]})]})})},w=function(n){var e=n.children;return(0,a.jsx)(t.Z,{sx:{minHeight:"100vh"},children:(0,a.jsxs)(o.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,sx:{ml:3,mt:3},children:(0,a.jsx)(d.Z,{})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,children:(0,a.jsx)(o.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 134px)",md:"calc(100vh - 112px)"}},children:(0,a.jsx)(o.ZP,{item:!0,children:(0,a.jsx)(l,{children:e})})})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,a.jsx)(Z,{})})]})})}},51654:function(n,e,r){r.r(e),r.d(e,{default:function(){return _}});var t=r(9019),o=r(42832),s=r(61113),i=r(91905),c=r(74165),a=r(15861),u=r(70885),l=r(47313),d=r(23306),f=r(37843),h=r(41727),p=r(47131),x=r(15480),m=r(28089),Z=r(7410),w=r(69490),g=r(58467),j=r(22098),v=r(51406),b=r(31741),y=r(44874),P=r(77841),S=r(95795),k=r(46417),C=function(){var n=(0,l.useState)(!1),e=(0,u.Z)(n,2),r=(e[0],e[1],(0,l.useState)(!1)),s=(0,u.Z)(r,2),i=s[0],C=s[1],_=(0,l.useState)(!1),E=(0,u.Z)(_,2),A=E[0],D=E[1],T=(0,l.useState)(!1),N=(0,u.Z)(T,2),I=N[0],O=N[1],V=(0,g.s0)(),q=(0,g.UO)(),z=function(){C(!i)},B=function(){D(!A)},J=function(n){n.preventDefault()},R=function(n){O(!0),(0,j.vy)(n.password,n.confirm_password,q.user_id).then((function(n){P.Z.success("Password reset successfully"),S.Z.getUser(),V({pathname:"/"},{replace:!0})})).catch((function(n){console.log(n),P.Z.error("Something went wrong"),O(!1)}))};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Z.J9,{initialValues:{password:"",confirm_password:"",submit:null},validationSchema:m.Ry().shape({password:m.Z_().max(255).required("Password is required"),confirm_password:m.Z_().oneOf([m.iH("password"),null],"Passwords must match").max(255).required("Password is required")}),onSubmit:function(){var n=(0,a.Z)((0,c.Z)().mark((function n(e,r){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.setErrors,r.setStatus,r.setSubmitting,R(e);case 2:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),children:function(n){var e=n.errors,r=n.handleBlur,s=n.handleChange,c=n.handleSubmit,a=(n.isSubmitting,n.touched),u=n.values;return(0,k.jsx)("form",{noValidate:!0,onSubmit:c,children:(0,k.jsxs)(t.ZP,{container:!0,spacing:3,children:[(0,k.jsx)(t.ZP,{item:!0,xs:12,children:(0,k.jsxs)(o.Z,{spacing:1,children:[(0,k.jsx)(d.Z,{htmlFor:"email-login",children:"Password"}),(0,k.jsx)(f.Z,{fullWidth:!0,error:Boolean(a.password&&e.password),id:"-password-login",type:i?"text":"password",value:u.password,name:"password",onBlur:r,onChange:s,endAdornment:(0,k.jsx)(h.Z,{position:"end",children:(0,k.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:z,onMouseDown:J,edge:"end",size:"large",children:i?(0,k.jsx)(b.Z,{}):(0,k.jsx)(y.Z,{})})}),placeholder:"Enter password"}),a.password&&e.password&&(0,k.jsx)(x.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:e.password})]})}),(0,k.jsx)(t.ZP,{item:!0,xs:12,children:(0,k.jsxs)(o.Z,{spacing:1,children:[(0,k.jsx)(d.Z,{htmlFor:"password-login",children:"Repeat Password"}),(0,k.jsx)(f.Z,{fullWidth:!0,error:Boolean(a.confirm_password&&e.confirm_password),id:"-password-login",type:A?"text":"password",value:u.confirm_password,name:"confirm_password",onBlur:r,onChange:s,endAdornment:(0,k.jsx)(h.Z,{position:"end",children:(0,k.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:J,edge:"end",size:"large",children:A?(0,k.jsx)(b.Z,{}):(0,k.jsx)(y.Z,{})})}),placeholder:"Enter password"}),a.confirm_password&&e.confirm_password&&(0,k.jsx)(x.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:e.confirm_password})]})}),(0,k.jsx)(t.ZP,{item:!0,xs:12,children:(0,k.jsx)(w.Z,{children:(0,k.jsx)(v.Z,{loading:I,disableElevation:!0,disabled:I,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",loadingPosition:"end",children:"Submit"})})})]})})}})})},_=function(){return(0,k.jsx)(i.Z,{children:(0,k.jsxs)(t.ZP,{container:!0,spacing:3,children:[(0,k.jsx)(t.ZP,{item:!0,xs:12,children:(0,k.jsx)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:(0,k.jsx)(s.Z,{variant:"h3",children:"Reset Password"})})}),(0,k.jsx)(t.ZP,{item:!0,xs:12,children:(0,k.jsx)(C,{})})]})})}},22098:function(n,e,r){r.d(e,{LK:function(){return b},kA:function(){return Z},bu:function(){return w},Um:function(){return x},Bf:function(){return v},Ar:function(){return j},vU:function(){return g},nD:function(){return m},gi:function(){return p},rW:function(){return f},Qb:function(){return l},OP:function(){return h},yi:function(){return y},vy:function(){return d}});var t=r(56573),o="http://161.35.210.153:8500/",s=r(75697);function i(n,e){return new Promise((function(r,i){t.Z.post(o+n,e).then((function(n){n.headers,r(n.data)})).catch((function(n){(0,s.Vo)(n),i(n)}))}))}function c(n){return new Promise((function(e,r){t.Z.get(o+n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){e(n.data)})).catch((function(n){(0,s.Vo)(n),r(n)}))}))}function a(n,e){return new Promise((function(r,i){t.Z.post(o+n,e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){r(n.data)})).catch((function(n){(0,s.Vo)(n),i(n)}))}))}function u(n,e){return new Promise((function(r,i){t.Z.put(o+n,e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){r(n.data)})).catch((function(n){(0,s.Vo)(n),i(n)}))}))}function l(n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t={};return""!==r&&(t.mfaCode=r),i("api/auth/login-user",{email:n,password:e},!1)}function d(n,e,r){var t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o={};return""!==t&&(o.mfaCode=t),a("api/auth/reset-password/"+r,{password:n,confirm_password:e},!1)}function f(){return c("api/v1/users-list/")}function h(n){return a("api/v1/register-user",n)}function p(n){return c("api/v1/user/"+n)}function x(n,e){return u("api/v1/user/"+n,e)}function m(){return c("api/v1/roles")}function Z(n){return a("api/v1/roles",n)}function w(n,e){return u("api/v1/role/"+n,e)}function g(n){return c("api/v1/role/"+n)}function j(){return c("api/v1/hostels-list/")}function v(){return c("api/v1/booked-hostels-list/")}function b(n){return u("api/v1/accept-hostel-book/"+n,{})}function y(n){return u("api/v1/reject-hostel-book/"+n,{})}},61805:function(n,e,r){r.d(e,{J:function(){return o},yd:function(){return t}});var t={PENDING:0,ACCEPTED:1,REJECTED:2},o={TODAY:"today",THIS_WEEK:"this_week",MONTHLY:"monthly"}}}]);