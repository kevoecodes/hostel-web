"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[4565],{2661:function(n,t,e){var r=e(1413),o=e(79601),i=e(17592),u=e(17551),c=e(46417),a=(0,i.ZP)((function(n){return(0,c.jsx)(o.Z,(0,r.Z)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},n))}))((function(n){var t=n.theme;return{"& .MuiPaper-root":{borderRadius:3,marginTop:t.spacing(1),minWidth:140,backgroundColor:t.palette.grey[100],color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 10px 7px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:(0,u.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));t.Z=a},75697:function(n,t,e){e.d(t,{AB:function(){return l},Rn:function(){return d},Vo:function(){return h},ec:function(){return s},gg:function(){return f},oB:function(){return p}});var r=e(61805),o=e(66212),i=e(36594),u=e(84296),c=e(77841),a=e(46417),s=function(n){return n===r.R2.PENDING?(0,a.jsx)(o.Z,{color:"secondary",label:"Pending"}):n===r.R2.ONPROGRESS?(0,a.jsx)(o.Z,{color:"primary",label:"On Progress"}):n===r.R2.COMPLETE?(0,a.jsx)(o.Z,{color:"success",label:"Complete"}):void 0},l=function(n){return n===r.SU.PENDING?(0,a.jsx)(o.Z,{color:"secondary",label:"Pending"}):n===r.SU.VERIFIED?(0,a.jsx)(o.Z,{color:"warning",label:"Verified"}):n===r.SU.APPROVED?(0,a.jsx)(o.Z,{color:"success",label:"Approved"}):n===r.SU.PAID?(0,a.jsx)(o.Z,{color:"primary",label:"Paid"}):n===r.SU.REJECTED?(0,a.jsx)(o.Z,{color:"error",label:"Rejected"}):void 0},f=function(n){return new Date(n).toLocaleString()},d=function(n){(0,i.nD)().then((function(t){console.log(t),n(t)})).catch((function(n){console.log(n)}))},p=function(n){return n.toLocaleString("en-US",{style:"currency",currency:"TZS"})},h=function(n){n.response?401===n.response.status?(c.Z.error("Unauthorized request, please login again"),null!==u.VK&&(0,u.VK)("/login",{replace:!0}),localStorage.clear()):400===n.response.status||500===n.response.status||n.response&&429===n.response.status||console.log("Error occurred, status: "+n.response.status):c.Z.error("No network available, Please connect to a Network")}},77841:function(n,t,e){var r=e(15671),o=e(43144),i=e(84296),u=function(){function n(){(0,r.Z)(this,n)}return(0,o.Z)(n,[{key:"success",value:function(n){i.sp&&i.sp.enqueueSnackbar(n,{variant:"success"})}},{key:"error",value:function(n){i.sp&&i.sp.enqueueSnackbar(n,{variant:"error"})}},{key:"warning",value:function(n){i.sp&&i.sp.enqueueSnackbar(n,{variant:"warning"})}}]),n}();t.Z=new u},24565:function(n,t,e){e.r(t);var r=e(29439),o=e(9019),i=e(69099),u=e(70501),c=e(51629),a=e(66835),s=e(23477),l=e(24076),f=e(67478),d=e(57861),p=e(47131),h=e(51405),v=e(97649),g=e(40621),x=e(75697),m=e(47313),Z=e(58467),b=e(32499),j=e(41434),P=e(36594),S=e(2661),E=e(10237),k=e(17885),R=e(46417);t.default=function(){var n=(0,m.useState)(null),t=(0,r.Z)(n,2),e=t[0],w=t[1],D=(0,m.useState)([]),y=(0,r.Z)(D,2),C=y[0],A=y[1],I=(0,m.useState)(null),L=(0,r.Z)(I,2),O=L[0],z=L[1],T=(0,m.useState)(0),N=(0,r.Z)(T,2),U=N[0],V=N[1],M=(0,m.useState)(10),_=(0,r.Z)(M,2),G=_[0],q=_[1],B=Boolean(e),H=(0,Z.s0)(),J=function(){w(null)};return(0,m.useEffect)((function(){(0,P.nD)().then((function(n){console.log(n),A(n)})).catch((function(n){console.log(n)}))}),[]),(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(g.Z,{title:(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(o.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,R.jsx)(o.ZP,{item:!0,children:"All Roles"}),(0,R.jsx)(o.ZP,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:(0,R.jsx)(i.Z,{variant:"contained",endIcon:(0,R.jsx)(j.Z,{}),onClick:function(){H("add-role")},children:"Add Role"})})]})}),children:(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(c.Z,{children:(0,R.jsxs)(a.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,R.jsx)(s.Z,{children:(0,R.jsxs)(l.Z,{children:[(0,R.jsx)(f.Z,{children:"Created At"}),(0,R.jsx)(f.Z,{children:"Title"}),(0,R.jsx)(f.Z,{children:"Actions"})]})}),(0,R.jsx)(d.Z,{children:C.slice(U*G,U*G+G).map((function(n,t){return(0,R.jsxs)(l.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,R.jsx)(f.Z,{children:(0,x.gg)(n.created_at)}),(0,R.jsx)(f.Z,{children:n.title}),(0,R.jsx)(f.Z,{children:(0,R.jsxs)("div",{children:[(0,R.jsx)(p.Z,{"aria-label":"more",id:"long-button","aria-controls":B?"demo-customized-menu":void 0,"aria-expanded":B?"true":void 0,disableElevation:!0,"aria-haspopup":"true",onClick:function(t){return e=t,z(n),void w(e.currentTarget);var e},children:(0,R.jsx)(b.Z,{})}),(0,R.jsxs)(S.Z,{id:"demo-customized-menu",anchorEl:e,open:B,onClose:J,MenuListProps:{"aria-labelledby":"demo-customized-menu"},children:[(0,R.jsxs)(h.Z,{onClick:function(){var n;n=O.id,H("edit-role/"+n)},children:[(0,R.jsx)(E.Z,{style:{fontSize:25,color:"green"}}),"Edit"]}),(0,R.jsxs)(h.Z,{onClick:J,disableRipple:!0,children:[(0,R.jsx)(k.Z,{style:{fontSize:25,color:"red"}}),"Delete"]})]})]})})]},t)}))})]})}),(0,R.jsx)(v.Z,{rowsPerPageOptions:[10,15,20],component:"div",count:C.length,rowsPerPage:G,page:U,onPageChange:function(n,t){V(t)},onRowsPerPageChange:function(n){q(+n.target.value),V(0)}})]})})})}},36594:function(n,t,e){e.d(t,{AG:function(){return C},Bl:function(){return O},Bm:function(){return A},CT:function(){return E},GV:function(){return P},Gn:function(){return w},HL:function(){return D},JN:function(){return I},MI:function(){return T},OP:function(){return p},PB:function(){return b},Q4:function(){return z},Qb:function(){return l},SP:function(){return R},Um:function(){return v},W0:function(){return N},b6:function(){return L},bu:function(){return m},gi:function(){return h},kA:function(){return x},kl:function(){return S},l2:function(){return k},nD:function(){return g},r2:function(){return j},rW:function(){return d},tk:function(){return U},vU:function(){return Z},vy:function(){return f},xr:function(){return y}});var r=e(56573),o=e(41209),i=e(75697);function u(n,t){return new Promise((function(e,u){r.Z.post(o.D.apiURL+n,t).then((function(n){n.headers,e(n.data)})).catch((function(n){(0,i.Vo)(n),u(n)}))}))}function c(n){return new Promise((function(t,e){r.Z.get(o.D.apiURL+n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){t(n.data)})).catch((function(n){(0,i.Vo)(n),e(n)}))}))}function a(n,t){return new Promise((function(e,u){r.Z.post(o.D.apiURL+n,t,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){e(n.data)})).catch((function(n){(0,i.Vo)(n),u(n)}))}))}function s(n,t){return new Promise((function(e,u){r.Z.put(o.D.apiURL+n,t,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){e(n.data)})).catch((function(n){(0,i.Vo)(n),u(n)}))}))}function l(n,t){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==e&&(r.mfaCode=e),u("api/auth/login",{email:n,password:t},!1)}function f(n,t,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o={};return""!==r&&(o.mfaCode=r),a("api/auth/reset-password/"+e,{password:n,confirm_password:t},!1)}function d(){return c("api/v1/users-list/")}function p(n){return a("api/v1/register-user",n)}function h(n){return c("api/v1/user/"+n)}function v(n,t){return s("api/v1/user/"+n,t)}function g(){return c("api/v1/roles")}function x(n){return a("api/v1/roles",n)}function m(n,t){return s("api/v1/role/"+n,t)}function Z(n){return c("api/v1/role/"+n)}function b(n){return a("api/v1/bls",n)}function j(){return c("api/v1/bls-list/")}function P(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[t?"include_charges=".concat("true"):"",e?"include_timeline=".concat("true"):"",r?"include_containers=".concat("true"):""].filter(Boolean).join("&"),i="api/v1/bl/".concat(n).concat(o?"?".concat(o):"");return c(i)}function S(n){return c("api/v1/bl-attachments?bl_id="+n)}function E(){return c("api/v1/charges-list/")}function k(){return c("api/v1/bl-charges-list/")}function R(n){return a("api/v1/bl-charges",n)}function w(n){return c("api/v1/bl-charge/"+n)}function D(n,t){return s("api/v1/bl-charge/"+n,t)}function y(n){return c("api/v1/bl-charge-attachments?bl_charge_id="+n)}function C(n){return a("api/v1/vouchers",n)}function A(){return c("api/v1/vouchers-list/")}function I(n){return c("api/v1/voucher/"+n)}function L(n,t){return s("api/v1/voucher/"+n,t)}function O(n){return c("api/v1/voucher-attachments?voucher_id="+n)}function z(){return c("api/v1/float-requests-list/")}function T(n){return c("api/v1/float-request/"+n)}function N(n){return a("api/v1/float-requests",n)}function U(){return c("api/v1/dash-stats")}},41209:function(n,t,e){e.d(t,{D:function(){return r}});var r={apiURL:"https://api.starvisiontz.com/",socketURL:"wss://socket.starvisiontz.com/",mediaURL:"https://media.starvisiontz.com/v1/"}},61805:function(n,t,e){e.d(t,{J:function(){return u},R2:function(){return o},SU:function(){return r},sy:function(){return i}});var r={PENDING:0,VERIFIED:1,APPROVED:2,PAID:3,REJECTED:4},o={PENDING:0,ONPROGRESS:1,COMPLETE:2},i={DETAILS:"0",ATTACHMENTS:"1",BL_CHARGES:"2"},u={TODAY:"today",THIS_WEEK:"this_week",MONTHLY:"monthly"}},41434:function(n,t,e){var r=e(64836);t.Z=void 0;var o=r(e(45045)),i=e(46417),u=(0,o.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");t.Z=u},17885:function(n,t,e){var r=e(64836);t.Z=void 0;var o=r(e(45045)),i=e(46417),u=(0,o.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");t.Z=u}}]);